<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>CentOS下 Oracle 12c R2 静默安装 | 程序猿天度</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="¶环境: ¶文件准备 阿里云ECS：centos7 ,也可使用其他linux 环境 Oracle: Oracle 12.2.0.1 下载链接">
<meta name="keywords" content="oracle安装">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS下 Oracle 12c R2 静默安装">
<meta property="og:url" content="http://www.blog.tiandu.tech/2018/04/22/Oracle-12c-R2_静默安装/index.html">
<meta property="og:site_name" content="程序猿天度">
<meta property="og:description" content="¶环境: ¶文件准备 阿里云ECS：centos7 ,也可使用其他linux 环境 Oracle: Oracle 12.2.0.1 下载链接">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-04-25T09:32:02.039Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS下 Oracle 12c R2 静默安装">
<meta name="twitter:description" content="¶环境: ¶文件准备 阿里云ECS：centos7 ,也可使用其他linux 环境 Oracle: Oracle 12.2.0.1 下载链接">
  
    <link rel="alternative" href="/atom.xml" title="程序猿天度" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">天度</a></h1>
        </hgroup>
        
        <p class="header-subtitle">there is alawys things we need to do</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/categories/开发工具/">玩转开发工具</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/yaowfhhuc" title="github">github</a>
                            
                                <a class="fl gitee"  target="_blank" href="https://gitee.com/phoenixtend/" title="gitee">gitee</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/oracle安装/" style="font-size: 10px;">oracle安装</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱动漫,爱游戏,爱编程,爱运动,爱的太多了!</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">天度</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">天度</a></h1>
            </hgroup>
            
            <p class="header-subtitle">there is alawys things we need to do</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/categories/开发工具/">玩转开发工具</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/yaowfhhuc" title="github">github</a>
                    
                        <a class="gitee" target="_blank" href="https://gitee.com/phoenixtend/" title="gitee">gitee</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap"><article id="post-Oracle-12c-R2_静默安装" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2018/04/22/Oracle-12c-R2_静默安装/" class="article-date">
      <time datetime="2018-04-21T16:00:00.000Z" itemprop="datePublished">2018-04-22</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CentOS下 Oracle 12c R2 静默安装
    </h1>
  


      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/oracle/">oracle</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/oracle安装/">oracle安装</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="环境"><a class="header-anchor" href="#环境">¶</a>环境:</h2>
<h3 id="文件准备"><a class="header-anchor" href="#文件准备">¶</a>文件准备</h3>
<p>阿里云ECS：centos7 ,也可使用其他linux 环境<br>
Oracle: Oracle 12.2.0.1 <a href="http://www.oracle.com/technetwork/database/enterprise-edition/downloads/index.html" target="_blank" rel="noopener">下载链接</a></p>
<hr>
<a id="more"></a>
<h2 id="安装准备"><a class="header-anchor" href="#安装准备">¶</a>安装准备</h2>
<h3 id="hosts-file"><a class="header-anchor" href="#hosts-file">¶</a>Hosts file</h3>
<pre><code>	cat /etc/hosts  
	127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4  
	::1         localhost localhost.localdomain localhost6 localhost6.localdomain6  
	192.168.0.109   centos7  
</code></pre>
<h3 id="配置-etc-sysctl-conf"><a class="header-anchor" href="#配置-etc-sysctl-conf">¶</a>配置/etc/sysctl.conf</h3>
<pre><code>	[root@centos7 ~]# vim /etc/sysctl.conf  
	# System default settings live in /usr/lib/sysctl.d/00-system.conf.  
	# To override those settings, enter new settings here, or in an /etc/sysctl.d/&lt;name&gt;.conf file  
	#  
	# For more information, see sysctl.conf(5) and sysctl.d(5).  
	#  
	fs.file-max = 6815744  
	kernel.sem = 250 32000 100 128  
	kernel.shmmni = 4096  
	kernel.shmall = 1073741824  
	kernel.shmmax = 4398046511104  
	kernel.panic_on_oops = 1  
	net.core.rmem_default = 262144  
	net.core.rmem_max = 4194304  
	net.core.wmem_default = 262144  
	net.core.wmem_max = 1048576  
	net.ipv4.conf.all.rp_filter = 2  
	net.ipv4.conf.default.rp_filter = 2  
	fs.aio-max-nr = 1048576  
	net.ipv4.ip_local_port_range = 9000 65500  
	
	
	#使配置生效
	[root@centos7 ~]# /sbin/sysctl -p
</code></pre>
<h3 id="配置-etc-security-limits-d-20-nproc-conf"><a class="header-anchor" href="#配置-etc-security-limits-d-20-nproc-conf">¶</a>配置/etc/security/limits.d/20-nproc.conf</h3>
<pre><code>	[root@centos7 ~]# vim /etc/security/limits.d/20-nproc.conf  
	# Default limit for number of user's processes to prevent  
	# accidental fork bombs.  
	# See rhbz #432903 for reasoning.  
	  
	*          soft    nproc     4096  
	root       soft    nproc     unlimited  
	oracle   soft   nofile    1024  
	oracle   hard   nofile    65536  
	oracle   soft   nproc    16384  
	oracle   hard   nproc    16384  
	oracle   soft   stack    10240  
	oracle   hard   stack    32768  
	oracle   hard   memlock    134217728  
	oracle   soft   memlock    134217728  
</code></pre>
<h3 id="安装一些包："><a class="header-anchor" href="#安装一些包：">¶</a>安装一些包：</h3>
<pre><code>	yum install -y binutils     compat-libcap1   compat-libstdc++-33   compat-libstdc++-33.i686   glibc   glibc.i686   glibc-devel   glibc-devel.i686   ksh   libaio   libaio.i686   libaio-devel   libaio-devel.i686   libX11   libX11.i686   libXau   libXau.i686   libXi   libXi.i686   libXtst   libXtst.i686   libgcc   libgcc.i686   libstdc++   libstdc++.i686   libstdc++-devel   libstdc++-devel.i686   libxcb   libxcb.i686   make   nfs-utils   net-tools   smartmontools   sysstat   unixODBC   unixODBC-devel   gcc    gcc-c++    libXext    libXext.i686    zlib-devel    zlib-devel.i686
</code></pre>
<h3 id="创建用户和组"><a class="header-anchor" href="#创建用户和组">¶</a>创建用户和组</h3>
<pre><code>	[root@centos7 ~]# unzip linuxx64_12201_database.zip ^C  
	[root@centos7 ~]# groupadd -g 54321 oinstall  
	[root@centos7 ~]# groupadd -g 54322 dba  
	[root@centos7 ~]# groupadd -g 54323 oper  
	[root@centos7 ~]# useradd -u 54321 -g oinstall -G dba,oper oracle  
	[root@centos7 ~]# passwd oracle  
</code></pre>
<h3 id="关闭selinux和防火墙："><a class="header-anchor" href="#关闭selinux和防火墙：">¶</a>关闭selinux和防火墙：</h3>
<pre><code>	vim /etc/selinux/config  
	SELINUX=disabled  
	[root@centos7 ~]# systemctl stop firewalld  
	[root@centos7 ~]# systemctl disable firewalld  
</code></pre>
<h3 id="创建目录："><a class="header-anchor" href="#创建目录：">¶</a>创建目录：</h3>
<pre><code>	[root@centos7 ~]# mkdir -p /u01/app/oracle/product/12.2.0.1/db_1  
	[root@centos7 ~]#  
	[root@centos7 ~]# chown -R oracle:oinstall /u01  
	[root@centos7 ~]# chmod 775 /u01  
</code></pre>
<h3 id="配置环境变量："><a class="header-anchor" href="#配置环境变量：">¶</a>配置环境变量：</h3>
<pre><code>	[root@centos7 ~]# vim /home/oracle/.bash_profile  
	# .bash_profile  
	  
	# Get the aliases and functions  
	if [ -f ~/.bashrc ]; then  
	        . ~/.bashrc  
	fi  
	  
	# User specific environment and startup programs  
	  
	PATH=$PATH:$HOME/.local/bin:$HOME/bin  
	  
	export PATH  
	# Oracle Settings  
	export TMP=/tmp  
	export TMPDIR=$TMP  
	  
	export ORACLE_HOSTNAME=centos7  
	export ORACLE_UNQNAME=cdb  
	export ORACLE_BASE=/u01/app/oracle  
	export ORACLE_HOME=$ORACLE_BASE/product/12.2.0.1/db_1  
	export ORACLE_SID=cdb  
	  
	export PATH=/usr/sbin:$PATH  
	export PATH=$ORACLE_HOME/bin:$PATH  
	  
	export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib  
	export CLASSPATH=$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib  
</code></pre>
<hr>
<h2 id="安装"><a class="header-anchor" href="#安装">¶</a>安装</h2>
<h3 id="编辑应答文件：-vi-u01-database-response-db-install-rsp"><a class="header-anchor" href="#编辑应答文件：-vi-u01-database-response-db-install-rsp">¶</a>编辑应答文件： vi /u01/database/response/db_install.rsp</h3>
<pre><code>	oracle.install.responseFileVersion=/oracle/install/rspfmt_dbinstall_response_schema_v12.2.0  
	oracle.install.option=INSTALL_DB_SWONLY  
	UNIX_GROUP_NAME=oinstall  
	INVENTORY_LOCATION=/u01/app/oracle/oraInventory  
	ORACLE_HOME=/u01/app/oracle/product/12.2.0.1/db_1  
	ORACLE_BASE=/u01/app/oracle  
	oracle.install.db.InstallEdition=EE  
	oracle.install.db.OSDBA_GROUP=dba  
	oracle.install.db.OSOPER_GROUP=oper  
	oracle.install.db.OSBACKUPDBA_GROUP=dba  
	oracle.install.db.OSDGDBA_GROUP=dba  
	oracle.install.db.OSKMDBA_GROUP=dba  
	oracle.install.db.OSRACDBA_GROUP=dba  
	oracle.install.db.config.starterdb.type=GENERAL_PURPOSE  
	oracle.install.db.config.starterdb.globalDBName=db1  
	oracle.install.db.config.starterdb.SID=db1  
	oracle.install.db.config.starterdb.characterSet=AL32UTF8  
	SECURITY_UPDATES_VIA_MYORACLESUPPORT=false  
	DECLINE_SECURITY_UPDATES=true  
</code></pre>
<h3 id="开始安装"><a class="header-anchor" href="#开始安装">¶</a>开始安装:</h3>
<pre><code>	[oracle@centos7 database]$ ./runInstaller -force -silent -noconfig -responseFile /u01/database/response/db_install.rsp  
	Starting Oracle Universal Installer...  
	  
	Checking Temp space: must be greater than 500 MB.   Actual 11715 MB    Passed  
	Checking swap space: must be greater than 150 MB.   Actual 2047 MB    Passed  
	Preparing to launch Oracle Universal Installer from /tmp/OraInstall2017-04-15_08-36-48PM. P[oracle@centos7 database]$ [WARNING] [INS-32055] The Central Inventory is located in the Oracle base.  
	   ACTION: Oracle recommends placing this Central Inventory in a location outside the Oracle base directory.  
	You can find the log of this install session at:  
	 /u01/app/oracle/oraInventory/logs/installActions2017-04-15_08-36-48PM.log  
	The installation of Oracle Database 12c was successful.  
	Please check '/u01/app/oracle/oraInventory/logs/silentInstall2017-04-15_08-36-48PM.log' for more details.  
	  
	As a root user, execute the following script(s):  
	        1. /u01/app/oracle/oraInventory/orainstRoot.sh  
	        2. /u01/app/oracle/product/12.2.0.1/db_1/root.sh  
	  
	  
	  
	Successfully Setup Software.  
</code></pre>
<h3 id="安装提示执行两个脚本："><a class="header-anchor" href="#安装提示执行两个脚本：">¶</a>安装提示执行两个脚本：</h3>
<pre><code>	[root@centos7 ~]# /u01/app/oracle/oraInventory/orainstRoot.sh  
	Changing permissions of /u01/app/oracle/oraInventory.  
	Adding read,write permissions for group.  
	Removing read,write,execute permissions for world.  
	  
	Changing groupname of /u01/app/oracle/oraInventory to oinstall.  
	The execution of the script is complete.  
	[root@centos7 ~]# /u01/app/oracle/product/12.2.0.1/db_1/root.sh  
	Check /u01/app/oracle/product/12.2.0.1/db_1/install/root_centos7_2018-04-15_22-08-27-846246575.log for the output of root script  
</code></pre>
<h3 id="配置-添加监听："><a class="header-anchor" href="#配置-添加监听：">¶</a>配置，添加监听：</h3>
<pre><code>	[oracle@centos7 response]$ cat /home/oracle/database/response/netca.rsp | grep -Ev &quot;^#|^$&quot;  
	  
	[GENERAL]  
	RESPONSEFILE_VERSION=&quot;12.2&quot;  
	CREATE_TYPE=&quot;CUSTOM&quot;  
	[oracle.net.ca]  
	INSTALLED_COMPONENTS={&quot;server&quot;,&quot;net8&quot;,&quot;javavm&quot;}  
	INSTALL_TYPE=&quot;&quot;typical&quot;&quot;  
	LISTENER_NUMBER=1  
	LISTENER_NAMES={&quot;LISTENER&quot;}  
	LISTENER_PROTOCOLS={&quot;TCP;1521&quot;}  
	LISTENER_START=&quot;&quot;LISTENER&quot;&quot;  
	NAMING_METHODS={&quot;TNSNAMES&quot;,&quot;ONAMES&quot;,&quot;HOSTNAME&quot;}  
	NSN_NUMBER=1  
	NSN_NAMES={&quot;EXTPROC_CONNECTION_DATA&quot;}  
	NSN_SERVICE={&quot;PLSExtProc&quot;}  
	NSN_PROTOCOLS={&quot;TCP;HOSTNAME;1521&quot;}  

	[oracle@centos7 response]$ netca -silent -responsefile /u01/database/response/netca.rsp  
	  
	Parsing command line arguments:  
	    Parameter &quot;silent&quot; = true  
	    Parameter &quot;responsefile&quot; = /u01/database/response/netca.rsp  
	Done parsing command line arguments.  
	Oracle Net Services Configuration:  
	Profile configuration complete.  
	Oracle Net Listener Startup:  
	    Running Listener Control:  
	      /u01/app/oracle/product/12.2.0.1/db_1/bin/lsnrctl start LISTENER  
	    Listener Control complete.  
	    Listener started successfully.  
	Listener configuration complete.  
	Oracle Net Services configuration successful. The exit code is 0  
	[oracle@centos7 response]$ lsnrctl status  
	  
	LSNRCTL for Linux: Version 12.2.0.1.0 - Production on 15-APR-2018 22:15:32  
	  
	Copyright (c) 1991, 2016, Oracle.  All rights reserved.  
	  
	Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=centos7)(PORT=1521)))  
	STATUS of the LISTENER  
	------------------------  
	Alias                     LISTENER  
	Version                   TNSLSNR for Linux: Version 12.2.0.1.0 - Production  
	Start Date                15-APR-2018 22:10:43  
	Uptime                    0 days 0 hr. 0 min. 8 sec  
	Trace Level               off  
	Security                  ON: Local OS Authentication  
	SNMP                      OFF  
	Listener Parameter File   /u01/app/oracle/product/12.2.0.1/db_1/network/admin/listener.ora  
	Listener Log File         /u01/app/oracle/diag/tnslsnr/centos7/listener/alert/log.xml  
	Listening Endpoints Summary...  
	  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=centos7)(PORT=1521)))  
	  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))  
	The listener supports no services  
	The command completed successfully  
</code></pre>
<h3 id="创建数据库-修改相应文件-有些参数有默认值就不需要"><a class="header-anchor" href="#创建数据库-修改相应文件-有些参数有默认值就不需要">¶</a>创建数据库，修改相应文件，有些参数有默认值就不需要</h3>
<pre><code>	[oracle@centos7 response]$ cat /home/oracle/dbca.rsp | grep -Ev '^#|^$'  
	responseFileVersion=/oracle/assistants/rspfmt_dbca_response_schema_v12.2.0  
	gdbName=db1  
	sid=db1  
	databaseConfigType=SI  
	RACOneNodeServiceName=  
	policyManaged=false  
	createServerPool=false  
	serverPoolName=  
	cardinality=  
	force=false  
	pqPoolName=  
	pqCardinality=  
	createAsContainerDatabase=true  
	numberOfPDBs=1  
	pdbName=db1pdb  
	useLocalUndoForPDBs=true  
	pdbAdminPassword=  
	nodelist=  
	templateName=/u01/app/oracle/product/12.2.0.1/db_1/assistants/dbca/templates/General_Purpose.dbc  
	sysPassword=  
	systemPassword=  
	serviceUserPassword=  
	emConfiguration=  
	emExpressPort=5500  
	runCVUChecks=false  
	dbsnmpPassword=  
	omsHost=  
	omsPort=0  
	emUser=  
	emPassword=  
	dvConfiguration=false  
	dvUserName=  
	dvUserPassword=  
	dvAccountManagerName=  
	dvAccountManagerPassword=  
	olsConfiguration=false  
	datafileJarLocation={ORACLE_HOME}/assistants/dbca/templates/  
	datafileDestination={ORACLE_BASE}/oradata/{DB_UNIQUE_NAME}/  
	recoveryAreaDestination={ORACLE_BASE}/fast_recovery_area/{DB_UNIQUE_NAME}  
	storageType=FS  
	diskGroupName=  
	asmsnmpPassword=  
	recoveryGroupName=  
	characterSet=AL32UTF8  
	nationalCharacterSet=AL16UTF16  
	registerWithDirService=false  
	dirServiceUserName=  
	dirServicePassword=  
	walletPassword=  
	listeners=LISTENER  
	variablesFile=  
	variables=DB_UNIQUE_NAME=db1,ORACLE_BASE=/u01/app/oracle,PDB_NAME=,DB_NAME=db1,ORACLE_HOME=/u01/app/oracle/product/12.2.0.1/db_1,SID=db1  
	initParams=undo_tablespace=UNDOTBS1,memory_target=796MB,processes=300,db_recovery_file_dest_size=2780MB,nls_language=AMERICAN,dispatchers=(PROTOCOL=TCP) (SERVICE=db1),db_recovery_file_dest={ORACLE_BASE}/fast_recovery_area/{DB_UNIQUE_NAME},db_block_size=8192BYTES,diagnostic_dest={ORACLE_BASE},audit_file_dest={ORACLE_BASE}/admin/{DB_UNIQUE_NAME}/adump,nls_territory=AMERICA,local_listener=LISTENER_DB1,compatible=12.2.0,control_files=(&quot;{ORACLE_BASE}/oradata/{DB_UNIQUE_NAME}/control01.ctl&quot;, &quot;{ORACLE_BASE}/fast_recovery_area/{DB_UNIQUE_NAME}/control02.ctl&quot;),db_name=db1,audit_trail=db,remote_login_passwordfile=EXCLUSIVE,open_cursors=300  
	sampleSchema=false  
	memoryPercentage=40  
	databaseType=MULTIPURPOSE  
	automaticMemoryManagement=true  
	totalMemory=0  
</code></pre>
<h3 id="创建数据库"><a class="header-anchor" href="#创建数据库">¶</a>创建数据库</h3>
<pre><code>	[oracle@centos7 response]$ dbca -silent -createDatabase  -responseFile  /home/oracle/dbca.rsp  
	  
	[WARNING] [DBT-06801] Specified Fast Recovery Area size (2,780 MB) is less than the recommended value.  
	   CAUSE: Fast Recovery Area size should at least be three times the database size (2,730 MB).  
	   ACTION: Specify Fast Recovery Area Size to be at least three times the database size.  
	[WARNING] [DBT-11209] Current available physical memory is less than the required physical memory (796MB) for creating the database.  
	Enter SYS user password:  
	  
	Enter SYSTEM user password:  
	  
	Enter PDBADMIN User Password:  
	  
	[WARNING] [DBT-06208] The 'SYS' password entered does not conform to the Oracle recommended standards.  
	   CAUSE:  
	a. Oracle recommends that the password entered should be at least 8 characters in length, contain at least 1 uppercase character, 1 lower case character and 1 digit [0-9].  
	b.The password entered is a keyword that Oracle does not recommend to be used as password  
	   ACTION: Specify a strong password. If required refer Oracle documentation for guidelines.  
	[WARNING] [DBT-06208] The 'SYSTEM' password entered does not conform to the Oracle recommended standards.  
	   CAUSE:  
	a. Oracle recommends that the password entered should be at least 8 characters in length, contain at least 1 uppercase character, 1 lower case character and 1 digit [0-9].  
	b.The password entered is a keyword that Oracle does not recommend to be used as password  
	   ACTION: Specify a strong password. If required refer Oracle documentation for guidelines.  
	[WARNING] [DBT-06208] The 'PDBADMIN' password entered does not conform to the Oracle recommended standards.  
	   CAUSE:  
	a. Oracle recommends that the password entered should be at least 8 characters in length, contain at least 1 uppercase character, 1 lower case character and 1 digit [0-9].  
	b.The password entered is a keyword that Oracle does not recommend to be used as password  
	   ACTION: Specify a strong password. If required refer Oracle documentation for guidelines.  
	[WARNING] [DBT-06801] Specified Fast Recovery Area size (2,780 MB) is less than the recommended value.  
	   CAUSE: Fast Recovery Area size should at least be three times the database size (3,571 MB).  
	   ACTION: Specify Fast Recovery Area Size to be at least three times the database size.  
	Copying database files  
	1% complete  
	13% complete  
	25% complete  
	Creating and starting Oracle instance  
	26% complete  
	30% complete  
	31% complete  
	35% complete  
	38% complete  
	39% complete  
	41% complete  
	Completing Database Creation  
	42% complete  
	43% complete  
	44% complete  
	46% complete  
	49% complete  
	50% complete  
	Creating Pluggable Databases  
	55% complete  
	75% complete  
	Executing Post Configuration Actions  
	100% complete  
	Look at the log file &quot;/u01/app/oracle/cfgtoollogs/dbca/db1/db1.log&quot; for further details.  
</code></pre>
<h3 id="查看状态"><a class="header-anchor" href="#查看状态">¶</a>查看状态</h3>
<pre><code>	[oracle@centos7 response]$ sqlplus / as sysdba  
	SQL*Plus: Release 12.2.0.1.0 Production on Sun Apr 15 23:07:08 2018  
	  
	Copyright (c) 1982, 2016, Oracle.  All rights reserved.  
	  
	  
	Connected to:  
	Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production  
	  
	SQL&gt; select open_mode from v$database;  
	  
	OPEN_MODE  
	--------------------  
	READ WRITE  
	  
	SQL&gt; select status from v$instance;  
	  
	STATUS  
	------------  
	OPEN  
</code></pre>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a  href="/2018/04/22/Oracle-12c-R2_静默安装/">CentOS下 Oracle 12c R2 静默安装</a></p>
        <p><span>文章作者:</span><a  href="/" title="访问 天度 的个人博客">天度</a></p>
        <p><span>发布时间:</span>2018年04月22日 - 00时00分</p>
        <p><span>最后更新:</span>2018年04月25日 - 17时32分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2018/04/22/Oracle-12c-R2_静默安装/" title="CentOS下 Oracle 12c R2 静默安装">http://www.blog.tiandu.tech/2018/04/22/Oracle-12c-R2_静默安装/</a>
            <span class="copy-path" data-clipboard-text="原文: http://www.blog.tiandu.tech/2018/04/22/Oracle-12c-R2_静默安装/　　作者: 天度" title=""></span>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a  href="/2018/04/23/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
    <a  href="/2018/04/20/firstArticle/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">firstArticle</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>


  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#环境"><span class="toc-number">1.</span> <span class="toc-text">¶环境:</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件准备"><span class="toc-number">1.1.</span> <span class="toc-text">¶文件准备</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装准备"><span class="toc-number">2.</span> <span class="toc-text">¶安装准备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#hosts-file"><span class="toc-number">2.1.</span> <span class="toc-text">¶Hosts file</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-etc-sysctl-conf"><span class="toc-number">2.2.</span> <span class="toc-text">¶配置/etc/sysctl.conf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-etc-security-limits-d-20-nproc-conf"><span class="toc-number">2.3.</span> <span class="toc-text">¶配置/etc/security/limits.d/20-nproc.conf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装一些包："><span class="toc-number">2.4.</span> <span class="toc-text">¶安装一些包：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户和组"><span class="toc-number">2.5.</span> <span class="toc-text">¶创建用户和组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#关闭selinux和防火墙："><span class="toc-number">2.6.</span> <span class="toc-text">¶关闭selinux和防火墙：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建目录："><span class="toc-number">2.7.</span> <span class="toc-text">¶创建目录：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置环境变量："><span class="toc-number">2.8.</span> <span class="toc-text">¶配置环境变量：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">3.</span> <span class="toc-text">¶安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#编辑应答文件：-vi-u01-database-response-db-install-rsp"><span class="toc-number">3.1.</span> <span class="toc-text">¶编辑应答文件： vi /u01/database/response/db_install.rsp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开始安装"><span class="toc-number">3.2.</span> <span class="toc-text">¶开始安装:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装提示执行两个脚本："><span class="toc-number">3.3.</span> <span class="toc-text">¶安装提示执行两个脚本：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-添加监听："><span class="toc-number">3.4.</span> <span class="toc-text">¶配置，添加监听：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数据库-修改相应文件-有些参数有默认值就不需要"><span class="toc-number">3.5.</span> <span class="toc-text">¶创建数据库，修改相应文件，有些参数有默认值就不需要</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数据库"><span class="toc-number">3.6.</span> <span class="toc-text">¶创建数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看状态"><span class="toc-number">3.7.</span> <span class="toc-text">¶查看状态</span></a></li></ol></li></ol>
</div>
<style>
    .left-col .switch-btn {
        display: none;
    }
    .left-col .switch-area {
        display: none;
    }
</style>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";
    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
            $(".switch-btn, .switch-area").fadeOut(300);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
            $(".switch-btn, .switch-area").fadeIn(500);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
        $(".switch-btn, .switch-area").show();
    }
</script>




<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <section class="changyan" id="comments">
  <div id="uyan_frame"></div>
  <script charset="utf-8" type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2161550"></script>
</section>

    



    <div class="scroll" id="post-nav-button">
        
            <a  href="/2018/04/23/hello-world/" title="上一篇: Hello World">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a  href="/2018/04/20/firstArticle/" title="下一篇: firstArticle">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/04/23/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/22/Oracle-12c-R2_静默安装/">CentOS下 Oracle 12c R2 静默安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/20/firstArticle/">firstArticle</a></li></ul>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

    <script>
        $(".post-list").addClass("toc-article");
        // $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#toc, .switch-btn, .switch-area").toggle();
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
                $(".switch-btn, .switch-area").fadeToggle(300);
            }
        })
    </script>




    <script>
        
    </script>

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 天度
            </div>
	    <div class="footer-middle">
		   <a href="http://www.miitbeian.gov.cn/">豫ICP备18015773号</a> &nbsp;|&nbsp; 
		   <a href="https://github.com/maochunguang/black-blue">theme:black-blue</a>
	    </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/yaowfhhuc" target="_blank">Blog</a> by tiandu
            </div>
        </div>
	<span id="beianmsg">
		<div class="footer-middle">
               		<a href="http://www.miitbeian.gov.cn/">豫ICP备18015773号</a> &nbsp;|&nbsp;
            		<a href="https://github.com/maochunguang/black-blue">theme:black-blue</a>
         	</div>
	</span>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>